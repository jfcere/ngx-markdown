import{A as u,U as v,Y as f,f as r,i as l,j as b,s as d,w as a,xa as h}from"./chunk-O3ZON35I.js";var c=class{constructor(e){r(this,"_box");r(this,"_destroyed",new b);r(this,"_resizeSubject",new b);r(this,"_resizeObserver");r(this,"_elementObservables",new Map);this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new l(n=>{var t;let s=this._resizeSubject.subscribe(n);return(t=this._resizeObserver)==null||t.observe(e,{box:this._box}),()=>{var o;(o=this._resizeObserver)==null||o.unobserve(e),s.unsubscribe(),this._elementObservables.delete(e)}}).pipe(d(n=>n.some(s=>s.target===e)),v({bufferSize:1,refCount:!0}),f(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},z=(()=>{let e=class e{constructor(){r(this,"_cleanupErrorListener");r(this,"_observers",new Map);r(this,"_ngZone",u(h));typeof ResizeObserver<"u"}ngOnDestroy(){var s;for(let[,t]of this._observers)t.destroy();this._observers.clear(),(s=this._cleanupErrorListener)==null||s.call(this)}observe(s,t){let o=(t==null?void 0:t.box)||"content-box";return this._observers.has(o)||this._observers.set(o,new c(o)),this._observers.get(o).observe(s)}};r(e,"\u0275fac",function(t){return new(t||e)}),r(e,"\u0275prov",a({token:e,factory:e.\u0275fac,providedIn:"root"}));let i=e;return i})();export{z as a};
